<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Defer Reports</title>
    <br>
    <br>
    <br>

    <!--<h1>Company X</h1>-->


      
    <h1>Run a Deferred Report</h1>

    <h2>Process:</h2>
    <p>Select a report to run deferred. It will return a token that will be saved to your current browser session.</p>

        <style>
body{
/*background-image: url("https://cdn.wallpapersafari.com/5/20/7NVLhA.jpg");
background-color: LightBlue;*/
background-color: azure;
background-size: cover;
background-attachment: fixed;
}
h1{
font-size: 50px;
font-family: "Times New Roman", Times, serif;
font-weight: bold;
color: #0D3093;
line-height: 0.7;
}
h2{
font-size: 30px;
font-family: "Times New Roman", Times, serif;
font-weight: bold;
color: #0D3093;
line-height: 0.8;
}
h3{
font-size: 25px;
font-family: "Times New Roman", Times, serif;
font-weight: bold;
color: #0D3093;
line-height: 0.7;
}
p{
font-size: 22px;
font-family: "Times New Roman", Times, serif;
font-weight: normal;
color: #0D3093;
line-height: 200%;
}
a:link, a:visited {
  background-color: #0D3093;
  color: white;
  font-size: 30px;
  padding: 14px 25px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
}
ul {
  position: fixed;
  top: 0%;
  width: 100%;
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: #0D3093;
}
li {
  float: left;
}
li a {
  display: block;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}
li a:hover:not(.active) {
  background-color: LightBlue;
}
a.active {
  background-color: LightBlue;
}
#button {
background-color: #0D3093;
border: none;
color: white;
padding: 12px 24px;
text-decoration: none;
margin: 4px 2px;
cursor: pointer;
font-size: 20px;
font-family: "Times New Roman", Times, serif;
}
#view_table{
background-color: #0D3093;
border: none;
color: white;
padding: 14px 28px;
text-decoration: none;
margin: 4px 2px;
cursor: pointer;
font-size: 30px;
font-family: "Times New Roman", Times, serif;
}
#report_name{
border: 2px solid #0D3093;
  border-radius: 4px;
  height: 50px;
  padding: 12px 20px;
  box-sizing: border-box;
  font-size: 20px;
  font-family: "Times New Roman", Times, serif;
  resize: none;
  color: #0D3093;
}
#IBIRS_tDesc{
border: 2px solid #0D3093;
  border-radius: 4px;
  height: 50px;
  padding: 12px 20px;
  box-sizing: border-box;
  font-size: 20px;
  font-family: "Times New Roman", Times, serif;
  resize: none;
  color: #0D3093;
}
#option {
 color: #0D3093;
}
 </style>
    
</head>

<script>
    function load(){
      var loader = document.getElementById('loader');
      loader.srcdoc='<t align="center" style="color:yellow">Loading Report...</t>';
      loader.style.display="inline-block";
      loader.style.backgroundColor="black";
    }
</script>

<body>
    <form action="/defer_report" method="post" onsubmit="load()">
            <select name = "report_name" id="report_name">
                {% for rep_name in reports %}
                <option  value="{{rep_name}}">{{rep_name}}</option>
                {% endfor %}
        <br>
          <input type="text" style="width:25%" name = "IBIRS_tDesc" id="IBIRS_tDesc" 
          placeholder = "Enter ticket description (required)" required/>
        
        
        <input type="submit" value = "Submit" id="button"/>
    </form>
    <br>
    <br>
     {% with messages = get_flashed_messages() %}
    {% if messages %}
       {% for message in messages %}
       <p style="color:darkred"><strong> {{ message }} </strong></p>
       {% endfor %}

    <br>
    {% endif %}
    {% endwith %}

    {% if error %}
          <p><strong>Error:</strong> {{ error }}</p>
    {% endif %}
    <iframe id="loader" style="height:35px;display:none"></iframe>
    <br>
    <a href="/deferred_reports_table" id="view_table">View Table of all deferred reports</a>

    

<ul>
    <li><img src="https://freepngimg.com/download/globe/6-2-globe-free-png-image.png" id="logo" height="50px" width-="50px" style="padding: 7px; float: left;"/></li>
  <li><a href="/home" id="home">Home</a></li>
  <li><a href="/run_reports" id="run_reports">Run Reports</a></li>
  <li><a href="/schedules" id="schedules" >Schedules</a></li>
    <li><a href="/view_schedule_log" id="view_schedule_log">View Schedule Log</a></li>
  <li><a class="active" href="/defer_reports" id="defer_reports">Defer Reports</a></li>
    <li><a href="deferred_reports_table" id="deferred_reports_table">View Deferred Reports</a></li>
    <li><a href="/logout" id="logout">Logout</a></li>
</ul>


</body>
</html>